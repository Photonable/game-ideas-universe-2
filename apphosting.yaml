# Specifies the version of the App Hosting YAML schema.
# The version of the schema is important for ensuring that the configuration
# is parsed and interpreted correctly.
# To learn more about the schema, visit
# https://firebase.google.com/docs/app-hosting/reference/yaml-schema
#
# Required
schemaVersion: v1alpha1

# Specifies the commands to build and run your Next.js application.
run:
  build: npm run build
  start: npm run start

# Defines the runtime resource allocation for your application.
resources:
  cpu: 1
  memoryMiB: 1024

# Defines the environment variables available to your application.
# It is a best practice to load sensitive data from Google Secret Manager.
env:
  # These variables will be populated from secrets stored in Google Secret Manager.
  - variable: FIREBASE_PROJECT_ID
    secret: FIREBASE_PROJECT_ID
    availability:
      - BUILD
      - RUNTIME
  - variable: FIREBASE_CLIENT_EMAIL
    secret: FIREBASE_CLIENT_EMAIL
    availability:
      - BUILD
      - RUNTIME
  - variable: FIREBASE_PRIVATE_KEY
    secret: projects/game-idea-universe/secrets/FIREBASE_PRIVATE_KEY/versions/2
    availability:
      - BUILD
      - RUNTIME
  - variable: STRIPE_SECRET_KEY
    secret: STRIPE_SECRET_KEY
    availability:
      - BUILD
      - RUNTIME
  - variable: STRIPE_WEBHOOK_SECRET
    secret: STRIPE_WEBHOOK_SECRET
    availability:
      - BUILD
      - RUNTIME
